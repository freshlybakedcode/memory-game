"use strict";function setUpGameBoard(){(pairData=shuffle(pairData)).forEach(function(a){output+=' <span class="card" data-card-id='+a+'>\n                        <span class="card-front"></span>\n                        <span class="card-back">'+a+"</span>\n                    </span>"}),container.innerHTML=output}function setListeners(){document.querySelectorAll(".card-front").forEach(function(a){return a.addEventListener("click",handleCardSelected)})}function shuffle(a){for(var e,t,r=a.length;0!==r;)t=Math.floor(Math.random()*r),e=a[r-=1],a[r]=a[t],a[t]=e;return a}function handleCardSelected(a){clickEnabled&&(currentCard=a.path[1],currentCardId=currentCard.dataset.cardId,currentCard.classList.contains("face-up")||(currentCard.classList.add("face-up"),""===firstCardSelectedId?(firstCardSelectedId=currentCardId,firstCardSelected=currentCard):checkIfMatch()))}function checkIfMatch(){firstCardSelectedId===currentCardId?(currentCard.classList.add("matched"),firstCardSelected.classList.add("matched"),testForCompletion()):(clickEnabled=!1,setTimeout(function(){turnCardsBack(),clickEnabled=!0},delayBeforeTurnBack)),firstCardSelectedId=""}function turnCardsBack(){document.querySelectorAll(".face-up").forEach(function(a){a.classList.contains("matched")||a.classList.remove("face-up")})}function testForCompletion(){document.querySelectorAll(".matched").length===2*numberOfPairs&&(modal.style.display="block")}function handlePlayAgain(){modal.style.display="none",output="",modalOutput="",setUpGameBoard(),setListeners()}function firstTimeRun(){for(var a=0;a<numberOfPairs;a++)pairData.push(a,a);modalOutput+='<h1>Yay!</h1>\n                    <h2>You matched all the pairs!</h2>\n                    <span class="modal-button">Play again</span>',modal.innerHTML=modalOutput;document.querySelector(".modal-button").addEventListener("click",handlePlayAgain)}var numberOfPairs=5,pairData=[],container=document.querySelector(".container"),modal=document.querySelector(".modal"),delayBeforeTurnBack=1100,clickEnabled=!0,output="",modalOutput="",currentCard="",currentCardId="",firstCardSelected="",firstCardSelectedId="";firstTimeRun(),setUpGameBoard(),setListeners();